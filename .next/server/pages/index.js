"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./src/context/AuthContext.tsx":
/*!*************************************!*\
  !*** ./src/context/AuthContext.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthContext\": () => (/* binding */ AuthContext),\n/* harmony export */   \"AuthProvider\": () => (/* binding */ AuthProvider),\n/* harmony export */   \"SignOut\": () => (/* binding */ SignOut),\n/* harmony export */   \"postMessageSingOut\": () => (/* binding */ postMessageSingOut)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_apiClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/apiClient */ \"./src/services/apiClient.ts\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/api */ \"./src/services/api.ts\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\nlet authChannel;\nfunction SignOut() {\n    (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.token\");\n    (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.refreshtoken\");\n    next_router__WEBPACK_IMPORTED_MODULE_4___default().push(\"/\");\n}\nfunction postMessageSingOut() {\n    authChannel.postMessage(\"signOut\");\n}\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nfunction AuthProvider({ children  }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const { 0: user , 1: setUser  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const isAuthenticated = !!user;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        authChannel = new BroadcastChannel(\"auth\");\n        authChannel.onmessage = (message)=>{\n            switch(message.data){\n                case \"signOut\":\n                    SignOut();\n                    break;\n                default:\n                    break;\n            }\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const { \"nextauth.token\": token  } = (0,nookies__WEBPACK_IMPORTED_MODULE_5__.parseCookies)();\n        if (token) {\n            _services_apiClient__WEBPACK_IMPORTED_MODULE_2__.api.get(\"/me\").then((response)=>{\n                const { email , permissions , roles  } = response.data;\n                setUser({\n                    email,\n                    permissions,\n                    roles\n                });\n            }).catch(()=>{\n                (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.token\");\n                (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.refreshtoken\");\n                SignOut();\n            });\n        }\n    }, []);\n    async function signIn(credentials) {\n        try {\n            const response = await _services_apiClient__WEBPACK_IMPORTED_MODULE_2__.api.post(\"sessions\", {\n                ...credentials\n            });\n            const { token , refreshToken , permissions , roles  } = response.data;\n            (0,nookies__WEBPACK_IMPORTED_MODULE_5__.setCookie)(undefined, \"nextauth.token\", token, {\n                maxAge: 60 * 60 * 25 * 30,\n                path: \"/\"\n            });\n            (0,nookies__WEBPACK_IMPORTED_MODULE_5__.setCookie)(undefined, \"nextauth.refreshtoken\", refreshToken, {\n                maxAge: 60 * 60 * 25 * 30,\n                path: \"/\"\n            });\n            setUser({\n                email: credentials.email,\n                permissions,\n                roles\n            });\n            (0,_services_api__WEBPACK_IMPORTED_MODULE_3__.defaultToken)(token);\n            router.push(\"/dashboard\");\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            signIn,\n            isAuthenticated,\n            user,\n            signOut: SignOut,\n            postMessage: postMessageSingOut\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\context\\\\AuthContext.tsx\",\n        lineNumber: 116,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtnQkFDekJDLElBQUksRUFBRSxHQUFHO2FBQ1YsQ0FBQyxDQUFDO1lBRUhuQixPQUFPLENBQUM7Z0JBQ05VLEtBQUssRUFBRUssV0FBVyxDQUFDTCxLQUFLO2dCQUN4QkMsV0FBVztnQkFDWEMsS0FBSzthQUNOLENBQUMsQ0FBQztZQUVIN0IsMkRBQVksQ0FBQ3VCLEtBQUssQ0FBQyxDQUFDO1lBRXBCUixNQUFNLENBQUNOLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUMzQixDQUFDLE9BQU80QixHQUFHLEVBQUU7WUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQyxDQUFDO1NBQ2xCO0tBQ0Y7SUFFRCxxQkFDRSw4REFBQ3pCLFdBQVcsQ0FBQzRCLFFBQVE7UUFBQ0MsS0FBSyxFQUFFO1lBQUVWLE1BQU07WUFBR2IsZUFBZTtZQUFFRixJQUFJO1lBQUUwQixPQUFPLEVBQUVuQyxPQUFPO1lBQUVJLFdBQVcsRUFBRUQsa0JBQWtCO1NBQUU7a0JBQy9HSSxRQUFROzs7OztZQUNZLENBQ3hCO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy9jb250ZXh0L0F1dGhDb250ZXh0LnRzeD82ZWU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2FwaUNsaWVudFwiO1xyXG5pbXBvcnQgeyBkZWZhdWx0VG9rZW4gfSBmcm9tIFwiLi4vc2VydmljZXMvYXBpXCI7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcclxuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcic7XHJcbmltcG9ydCB7IHNldENvb2tpZSwgcGFyc2VDb29raWVzLCBkZXN0cm95Q29va2llIH0gZnJvbSAnbm9va2llcyc7XHJcblxyXG50eXBlIHNpZ25JbkNyZWF0aW9uID0ge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxufVxyXG5cclxudHlwZSBBdXRoQ29udGV4dERhdGEgPSB7XHJcbiAgc2lnbkluOiAoY3JlZGVudGlhbHM6IHNpZ25JbkNyZWF0aW9uKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNpZ25PdXQ6ICgpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6ICgpID0+IHZvaWQ7XHJcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xyXG4gIHVzZXI6IFVzZXI7XHJcbn07XHJcblxyXG50eXBlIFVzZXIgPSB7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBwZXJtaXNzaW9uczogc3RyaW5nW107XHJcbiAgcm9sZXM6IHN0cmluZ1tdO1xyXG59XHJcblxyXG50eXBlIEF1dGhQcm92aWRlclByb3BzID0ge1xyXG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcclxufTtcclxuXHJcbmxldCBhdXRoQ2hhbm5lbDogQnJvYWRjYXN0Q2hhbm5lbFxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFNpZ25PdXQoKSB7XHJcbiAgZGVzdHJveUNvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC50b2tlbicpO1xyXG4gIGRlc3Ryb3lDb29raWUodW5kZWZpbmVkLCAnbmV4dGF1dGgucmVmcmVzaHRva2VuJyk7XHJcblxyXG4gIFJvdXRlci5wdXNoKCcvJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb3N0TWVzc2FnZVNpbmdPdXQoKSB7XHJcbiAgYXV0aENoYW5uZWwucG9zdE1lc3NhZ2UoJ3NpZ25PdXQnKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSBhcyBBdXRoQ29udGV4dERhdGEpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH06IEF1dGhQcm92aWRlclByb3BzKSB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgXHJcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlcj4oe30gYXMgVXNlcik7XHJcbiAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gISF1c2VyO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYXV0aENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCgnYXV0aCcpO1xyXG5cclxuICAgIGF1dGhDaGFubmVsLm9ubWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgIHN3aXRjaCAobWVzc2FnZS5kYXRhKXtcclxuICAgICAgICBjYXNlICdzaWduT3V0JzogXHJcbiAgICAgICAgICBTaWduT3V0KCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbXSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHsgJ25leHRhdXRoLnRva2VuJzogdG9rZW4gfSA9IHBhcnNlQ29va2llcygpO1xyXG5cclxuICAgIGlmKHRva2VuKSB7XHJcbiAgICAgIGFwaS5nZXQoJy9tZScpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGVybWlzc2lvbnMsIHJvbGVzIH0gPSByZXNwb25zZS5kYXRhO1xyXG5cclxuICAgICAgICBzZXRVc2VyKHsgZW1haWwsIHBlcm1pc3Npb25zLCByb2xlcyAgfSk7XHJcbiAgICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICBkZXN0cm95Q29va2llKHVuZGVmaW5lZCwgJ25leHRhdXRoLnRva2VuJyk7XHJcbiAgICAgICAgZGVzdHJveUNvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC5yZWZyZXNodG9rZW4nKTtcclxuXHJcbiAgICAgICAgU2lnbk91dCgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2lnbkluKGNyZWRlbnRpYWxzOiBzaWduSW5DcmVhdGlvbikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdCgnc2Vzc2lvbnMnLCB7XHJcbiAgICAgICAgLi4uY3JlZGVudGlhbHNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHRva2VuLCByZWZyZXNoVG9rZW4sIHBlcm1pc3Npb25zLCByb2xlcyB9ID0gcmVzcG9uc2UuZGF0YTtcclxuXHJcbiAgICAgIHNldENvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC50b2tlbicsIHRva2VuLCB7XHJcbiAgICAgICAgbWF4QWdlOiA2MCAqIDYwICogMjUgKiAzMCwgLy8gMzAgZGF5c1xyXG4gICAgICAgIHBhdGg6ICcvJ1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldENvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC5yZWZyZXNodG9rZW4nLCByZWZyZXNoVG9rZW4sIHtcclxuICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNSAqIDMwLCAvLyAzMCBkYXlzXHJcbiAgICAgICAgcGF0aDogJy8nXHJcbiAgICAgIH0pO1xyXG4gIFxyXG4gICAgICBzZXRVc2VyKHtcclxuICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsXHJcbiAgICAgICAgcGVybWlzc2lvbnMsXHJcbiAgICAgICAgcm9sZXNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBkZWZhdWx0VG9rZW4odG9rZW4pO1xyXG5cclxuICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBzaWduSW4gLCBpc0F1dGhlbnRpY2F0ZWQsIHVzZXIsIHNpZ25PdXQ6IFNpZ25PdXQsIHBvc3RNZXNzYWdlOiBwb3N0TWVzc2FnZVNpbmdPdXQgfX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XHJcbiAgKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJhcGkiLCJkZWZhdWx0VG9rZW4iLCJ1c2VSb3V0ZXIiLCJSb3V0ZXIiLCJzZXRDb29raWUiLCJwYXJzZUNvb2tpZXMiLCJkZXN0cm95Q29va2llIiwiYXV0aENoYW5uZWwiLCJTaWduT3V0IiwidW5kZWZpbmVkIiwicHVzaCIsInBvc3RNZXNzYWdlU2luZ091dCIsInBvc3RNZXNzYWdlIiwiQXV0aENvbnRleHQiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInJvdXRlciIsInVzZXIiLCJzZXRVc2VyIiwiaXNBdXRoZW50aWNhdGVkIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIm9ubWVzc2FnZSIsIm1lc3NhZ2UiLCJkYXRhIiwidG9rZW4iLCJnZXQiLCJ0aGVuIiwicmVzcG9uc2UiLCJlbWFpbCIsInBlcm1pc3Npb25zIiwicm9sZXMiLCJjYXRjaCIsInNpZ25JbiIsImNyZWRlbnRpYWxzIiwicG9zdCIsInJlZnJlc2hUb2tlbiIsIm1heEFnZSIsInBhdGgiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInNpZ25PdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/context/AuthContext.tsx\n");

/***/ }),

/***/ "./src/pages/index.tsx":
/*!*****************************!*\
  !*** ./src/pages/index.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"getServerSideProps\": () => (/* binding */ getServerSideProps)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/AuthContext */ \"./src/context/AuthContext.tsx\");\n/* harmony import */ var _utils_withSSRGuest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/withSSRGuest */ \"./src/utils/withSSRGuest.ts\");\n\n\n\n\nfunction App() {\n    const { 0: email , 1: setEmail  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const { 0: password , 1: setPassword  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const { isAuthenticated , signIn  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context_AuthContext__WEBPACK_IMPORTED_MODULE_2__.AuthContext);\n    async function handleSubmit(e) {\n        e.preventDefault();\n        const data = {\n            email,\n            password\n        };\n        await signIn(data);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        onSubmit: handleSubmit,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"email\",\n                value: email,\n                onChange: (e)=>setEmail(e.target.value)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\index.tsx\",\n                lineNumber: 24,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                type: \"password\",\n                value: password,\n                onChange: (e)=>setPassword(e.target.value)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\index.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                type: \"submit\",\n                children: \"Entrar\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\index.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\index.tsx\",\n        lineNumber: 23,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (App);\nconst getServerSideProps = (0,_utils_withSSRGuest__WEBPACK_IMPORTED_MODULE_3__.withSSRGuest)(async (props)=>{\n    return {\n        props: {\n            users: []\n        }\n    };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvaW5kZXgudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFBd0Q7QUFDSDtBQUNBO0FBRXJELFNBQVNJLEdBQUcsR0FBRztJQUNiLE1BQU0sRUFMUixHQUtTQyxLQUFLLEdBTGQsR0FLZ0JDLFFBQVEsTUFBSU4sK0NBQVEsQ0FBUyxFQUFFLENBQUM7SUFDOUMsTUFBTSxFQU5SLEdBTVNPLFFBQVEsR0FOakIsR0FNbUJDLFdBQVcsTUFBSVIsK0NBQVEsQ0FBUyxFQUFFLENBQUM7SUFFcEQsTUFBTSxFQUFFUyxlQUFlLEdBQUVDLE1BQU0sR0FBRyxHQUFHVCxpREFBVSxDQUFDQyw2REFBVyxDQUFDO0lBRTVELGVBQWVTLFlBQVksQ0FBQ0MsQ0FBWSxFQUFFO1FBQ3hDQSxDQUFDLENBQUNDLGNBQWMsRUFBRSxDQUFDO1FBRW5CLE1BQU1DLElBQUksR0FBRztZQUNYVCxLQUFLO1lBQ0xFLFFBQVE7U0FDVDtRQUVELE1BQU1HLE1BQU0sQ0FBQ0ksSUFBSSxDQUFDLENBQUM7S0FDcEI7SUFFRCxxQkFDRSw4REFBQ0MsTUFBSTtRQUFDQyxRQUFRLEVBQUVMLFlBQVk7OzBCQUMxQiw4REFBQ00sT0FBSztnQkFBQ0MsSUFBSSxFQUFDLE9BQU87Z0JBQUNDLEtBQUssRUFBRWQsS0FBSztnQkFBRWUsUUFBUSxFQUFFUixDQUFBQSxDQUFDLEdBQUlOLFFBQVEsQ0FBQ00sQ0FBQyxDQUFDUyxNQUFNLENBQUNGLEtBQUssQ0FBQzs7Ozs7b0JBQUk7MEJBQzdFLDhEQUFDRixPQUFLO2dCQUFDQyxJQUFJLEVBQUMsVUFBVTtnQkFBQ0MsS0FBSyxFQUFFWixRQUFRO2dCQUFFYSxRQUFRLEVBQUVSLENBQUFBLENBQUMsR0FBSUosV0FBVyxDQUFDSSxDQUFDLENBQUNTLE1BQU0sQ0FBQ0YsS0FBSyxDQUFDOzs7OztvQkFBSTswQkFDdEYsOERBQUNHLFFBQU07Z0JBQUNKLElBQUksRUFBQyxRQUFROzBCQUFDLFFBQU07Ozs7O29CQUFTOzs7Ozs7WUFDaEMsQ0FDUjtDQUNGO0FBRUQsaUVBQWVkLEdBQUcsRUFBQztBQUVaLE1BQU1tQixrQkFBa0IsR0FBR3BCLGlFQUFZLENBQUMsT0FBT3FCLEtBQUssR0FBSztJQUM5RCxPQUFPO1FBQ0xBLEtBQUssRUFBRTtZQUNOQyxLQUFLLEVBQUUsRUFBRTtTQUNUO0tBQ0Y7Q0FDRixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy9wYWdlcy9pbmRleC50c3g/MTlhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgRm9ybUV2ZW50LCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBBdXRoQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L0F1dGhDb250ZXh0XCI7XG5pbXBvcnQgeyB3aXRoU1NSR3Vlc3QgfSBmcm9tIFwiLi4vdXRpbHMvd2l0aFNTUkd1ZXN0XCI7XG5cbmZ1bmN0aW9uIEFwcCgpIHtcbiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcblxuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgc2lnbkluICB9ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU3VibWl0KGU6IEZvcm1FdmVudCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkXG4gICAgfVxuXG4gICAgYXdhaXQgc2lnbkluKGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cbiAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiB2YWx1ZT17ZW1haWx9IG9uQ2hhbmdlPXtlID0+IHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB2YWx1ZT17cGFzc3dvcmR9IG9uQ2hhbmdlPXtlID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX0gLz5cbiAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPkVudHJhcjwvYnV0dG9uPlxuICAgIDwvZm9ybT5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcHA7XG5cbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSB3aXRoU1NSR3Vlc3QoYXN5bmMgKHByb3BzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgdXNlcnM6IFtdIFxuICAgIH1cbiAgfVxufSk7XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDb250ZXh0IiwiQXV0aENvbnRleHQiLCJ3aXRoU1NSR3Vlc3QiLCJBcHAiLCJlbWFpbCIsInNldEVtYWlsIiwicGFzc3dvcmQiLCJzZXRQYXNzd29yZCIsImlzQXV0aGVudGljYXRlZCIsInNpZ25JbiIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGEiLCJmb3JtIiwib25TdWJtaXQiLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiYnV0dG9uIiwiZ2V0U2VydmVyU2lkZVByb3BzIiwicHJvcHMiLCJ1c2VycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/index.tsx\n");

/***/ }),

/***/ "./src/services/api.ts":
/*!*****************************!*\
  !*** ./src/services/api.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"defaultToken\": () => (/* binding */ defaultToken),\n/* harmony export */   \"setupAPIClient\": () => (/* binding */ setupAPIClient)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/AuthContext */ \"./src/context/AuthContext.tsx\");\n/* harmony import */ var _errors_AuthTokenError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors/AuthTokenError */ \"./src/services/errors/AuthTokenError.ts\");\n\n\n\n\nlet isRefresh = false;\nlet failedRequestQueue = [];\nfunction defaultToken(token) {\n    (axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.headers.common.Authorization) = `Bearer ${token}`;\n}\nfunction setupAPIClient(ctx) {\n    let cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_1__.parseCookies)(ctx);\n    const api = axios__WEBPACK_IMPORTED_MODULE_0___default().create({\n        baseURL: \"http://localhost:3333\",\n        headers: {\n            Authorization: `Bearer ${cookies[\"nextauth.token\"]}`\n        }\n    });\n    api.interceptors.response.use((response)=>{\n        return response;\n    }, (error1)=>{\n        if (error1.response?.status === 401) {\n            if (error1.response.data?.code === \"token.expired\") {\n                cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_1__.parseCookies)(ctx);\n                const { \"nextauth.refreshtoken\": refreshToken1  } = cookies;\n                const originalConfig = error1.config;\n                if (!isRefresh) {\n                    isRefresh = true;\n                    api.post(\"/refresh\", {\n                        refreshToken: refreshToken1\n                    }).then((response)=>{\n                        const { token , refreshToken  } = response.data;\n                        (0,nookies__WEBPACK_IMPORTED_MODULE_1__.setCookie)(ctx, \"nextauth.token\", token, {\n                            maxAge: 60 * 60 * 25 * 30,\n                            path: \"/\"\n                        });\n                        (0,nookies__WEBPACK_IMPORTED_MODULE_1__.setCookie)(ctx, \"nextauth.refreshtoken\", refreshToken, {\n                            maxAge: 60 * 60 * 25 * 30,\n                            path: \"/\"\n                        });\n                        defaultToken(token);\n                        failedRequestQueue.forEach((request)=>request.onSuccess(token)\n                        );\n                    }).catch((error)=>{\n                        failedRequestQueue.forEach((request)=>request.reject(error)\n                        );\n                        failedRequestQueue = [];\n                        if (false) {}\n                    }).finally(()=>{\n                        isRefresh = false;\n                    });\n                }\n                return new Promise((resolve, reject)=>{\n                    failedRequestQueue.push({\n                        onSuccess: (token)=>{\n                            if (originalConfig.headers) {\n                                originalConfig.headers[\"Authorization\"] = `Bearer ${token}`;\n                            }\n                            resolve(api(originalConfig));\n                        },\n                        reject: (err)=>{\n                            reject(err);\n                        }\n                    });\n                });\n            } else {\n                if (false) {} else {\n                    return Promise.reject(new _errors_AuthTokenError__WEBPACK_IMPORTED_MODULE_3__.AuthTokenError());\n                }\n            }\n        }\n        return Promise.reject(error1);\n    });\n    return api;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFTCxNQUFNLEdBQUs7b0JBQ3RDL0Isa0JBQWtCLENBQUNxQyxJQUFJLENBQUM7d0JBQ3RCUixTQUFTLEVBQUUsQ0FBQzNCLEtBQWEsR0FBSzs0QkFDNUIsSUFBR21CLGNBQWMsQ0FBQ2pCLE9BQU8sRUFBRTtnQ0FDekJpQixjQUFjLENBQUNqQixPQUFPLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUVGLEtBQUssQ0FBQyxDQUFDLENBQUM7NkJBQzdEOzRCQUVEa0MsT0FBTyxDQUFDM0IsR0FBRyxDQUFDWSxjQUFjLENBQUMsQ0FBQyxDQUFDO3lCQUM5Qjt3QkFDRFUsTUFBTSxFQUFFLENBQUNPLEdBQWUsR0FBSzs0QkFDM0JQLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLENBQUM7eUJBQ2I7cUJBQ0YsQ0FBQztpQkFDSCxDQUFDLENBQUM7YUFDSixNQUFNO2dCQUNMLElBQUdOLEtBQWUsRUFBRSxFQUVuQixNQUFNO29CQUNMLE9BQU9HLE9BQU8sQ0FBQ0osTUFBTSxDQUFDLElBQUlqQyxrRUFBYyxFQUFFLENBQUM7aUJBQzVDO2FBQ0Y7U0FDRjtRQUVELE9BQU9xQyxPQUFPLENBQUNKLE1BQU0sQ0FBQ2YsTUFBSyxDQUFDLENBQUM7S0FDOUIsQ0FBQyxDQUFDO0lBRUgsT0FBT1AsR0FBRyxDQUFDO0NBQ1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy9zZXJ2aWNlcy9hcGkudHM/OTU2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MsIHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBwYXJzZUNvb2tpZXMsIHNldENvb2tpZSB9IGZyb20gJ25vb2tpZXMnO1xyXG5pbXBvcnQgeyBTaWduT3V0IH0gZnJvbSAnLi4vY29udGV4dC9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7IEF1dGhUb2tlbkVycm9yIH0gZnJvbSAnLi9lcnJvcnMvQXV0aFRva2VuRXJyb3InO1xyXG5cclxubGV0IGlzUmVmcmVzaCA9IGZhbHNlO1xyXG5sZXQgZmFpbGVkUmVxdWVzdFF1ZXVlID0gW10gYXMgYW55W107XHJcblxyXG5pbnRlcmZhY2UgQXhpb3NFcnJvclJlc3BvbnNlIHtcclxuICBjb2RlOiBzdHJpbmc7XHJcbiAgZXJyb3I6IGJvb2xlYW47XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFRva2VuICh0b2tlbjogYW55KSB7XHJcbiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBBUElDbGllbnQoY3R4PzogR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCkge1xyXG4gIGxldCBjb29raWVzID0gcGFyc2VDb29raWVzKGN0eCk7XHJcblxyXG4gIGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XHJcbiAgICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMzMzJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2Nvb2tpZXNbJ25leHRhdXRoLnRva2VuJ119YFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UocmVzcG9uc2UgPT4ge1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gIH0sIChlcnJvcjogQXhpb3NFcnJvcjxBeGlvc0Vycm9yUmVzcG9uc2U+KSA9PiB7XHJcbiAgICBpZihlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgaWYoZXJyb3IucmVzcG9uc2UuZGF0YT8uY29kZSA9PT0gJ3Rva2VuLmV4cGlyZWQnKSB7XHJcbiAgICAgICAgY29va2llcyA9IHBhcnNlQ29va2llcyhjdHgpO1xyXG4gIFxyXG4gICAgICAgIGNvbnN0IHsgJ25leHRhdXRoLnJlZnJlc2h0b2tlbic6IHJlZnJlc2hUb2tlbiB9ID0gIGNvb2tpZXM7XHJcbiAgICAgICAgY29uc3QgIG9yaWdpbmFsQ29uZmlnID0gZXJyb3IuY29uZmlnO1xyXG4gIFxyXG4gICAgICAgIGlmKCFpc1JlZnJlc2gpIHtcclxuICAgICAgICAgIGlzUmVmcmVzaCA9IHRydWU7XHJcbiAgXHJcbiAgICAgICAgICBhcGkucG9zdCgnL3JlZnJlc2gnLCB7IHJlZnJlc2hUb2tlbiB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IHRva2VuLCByZWZyZXNoVG9rZW4gfSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICBcclxuICAgICAgICAgICAgc2V0Q29va2llKGN0eCwgJ25leHRhdXRoLnRva2VuJywgdG9rZW4sIHtcclxuICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNSAqIDMwLCAvLyAzMCBkYXlzXHJcbiAgICAgICAgICAgICAgcGF0aDogJy8nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgICAgICAgc2V0Q29va2llKGN0eCwgJ25leHRhdXRoLnJlZnJlc2h0b2tlbicsIHJlZnJlc2hUb2tlbiAsIHtcclxuICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNSAqIDMwLCAvLyAzMCBkYXlzXHJcbiAgICAgICAgICAgICAgcGF0aDogJy8nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGRlZmF1bHRUb2tlbih0b2tlbik7XHJcbiAgXHJcbiAgICAgICAgICAgIGZhaWxlZFJlcXVlc3RRdWV1ZS5mb3JFYWNoKChyZXF1ZXN0KSA9PiByZXF1ZXN0Lm9uU3VjY2Vzcyh0b2tlbikpO1xyXG4gICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGZhaWxlZFJlcXVlc3RRdWV1ZS5mb3JFYWNoKChyZXF1ZXN0KSA9PiByZXF1ZXN0LnJlamVjdChlcnJvcikpO1xyXG4gICAgICAgICAgICBmYWlsZWRSZXF1ZXN0UXVldWUgPSBbXTtcclxuICBcclxuICAgICAgICAgICAgaWYocHJvY2Vzcy5icm93c2VyKSB7XHJcbiAgICAgICAgICAgICAgU2lnbk91dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgaXNSZWZyZXNoID0gZmFsc2U7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIGZhaWxlZFJlcXVlc3RRdWV1ZS5wdXNoKHtcclxuICAgICAgICAgICAgb25TdWNjZXNzOiAodG9rZW46IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgIGlmKG9yaWdpbmFsQ29uZmlnLmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xyXG4gICAgICAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgICAgICByZXNvbHZlKGFwaShvcmlnaW5hbENvbmZpZykpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWplY3Q6IChlcnI6IEF4aW9zRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYocHJvY2Vzcy5icm93c2VyKSB7XHJcbiAgICAgICAgICBTaWduT3V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQXV0aFRva2VuRXJyb3IoKSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgfSk7XHJcbiAgXHJcbiAgcmV0dXJuIGFwaTtcclxufSJdLCJuYW1lcyI6WyJheGlvcyIsInBhcnNlQ29va2llcyIsInNldENvb2tpZSIsIlNpZ25PdXQiLCJBdXRoVG9rZW5FcnJvciIsImlzUmVmcmVzaCIsImZhaWxlZFJlcXVlc3RRdWV1ZSIsImRlZmF1bHRUb2tlbiIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwic2V0dXBBUElDbGllbnQiLCJjdHgiLCJjb29raWVzIiwiYXBpIiwiY3JlYXRlIiwiYmFzZVVSTCIsIkF1dGhvcml6YXRpb24iLCJpbnRlcmNlcHRvcnMiLCJyZXNwb25zZSIsInVzZSIsImVycm9yIiwic3RhdHVzIiwiZGF0YSIsImNvZGUiLCJyZWZyZXNoVG9rZW4iLCJvcmlnaW5hbENvbmZpZyIsImNvbmZpZyIsInBvc3QiLCJ0aGVuIiwibWF4QWdlIiwicGF0aCIsImZvckVhY2giLCJyZXF1ZXN0Iiwib25TdWNjZXNzIiwiY2F0Y2giLCJyZWplY3QiLCJwcm9jZXNzIiwiYnJvd3NlciIsImZpbmFsbHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInB1c2giLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/api.ts\n");

/***/ }),

/***/ "./src/services/apiClient.ts":
/*!***********************************!*\
  !*** ./src/services/apiClient.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"api\": () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./src/services/api.ts\");\n\nconst api = (0,_api__WEBPACK_IMPORTED_MODULE_0__.setupAPIClient)();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2VydmljZXMvYXBpQ2xpZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVDO0FBRWhDLE1BQU1DLEdBQUcsR0FBR0Qsb0RBQWMsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGF1dGgvLi9zcmMvc2VydmljZXMvYXBpQ2xpZW50LnRzPzdkMDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0dXBBUElDbGllbnQgfSBmcm9tICcuL2FwaSc7XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gc2V0dXBBUElDbGllbnQoKTsiXSwibmFtZXMiOlsic2V0dXBBUElDbGllbnQiLCJhcGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/apiClient.ts\n");

/***/ }),

/***/ "./src/services/errors/AuthTokenError.ts":
/*!***********************************************!*\
  !*** ./src/services/errors/AuthTokenError.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthTokenError\": () => (/* binding */ AuthTokenError)\n/* harmony export */ });\nclass AuthTokenError extends Error {\n    constructor(){\n        super(\"Error with authentication token.\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2VydmljZXMvZXJyb3JzL0F1dGhUb2tlbkVycm9yLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxjQUFjLFNBQVNDLEtBQUs7SUFDdkNDLGFBQWM7UUFDWixLQUFLLENBQUMsa0NBQWtDLENBQUM7S0FDMUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRhdXRoLy4vc3JjL3NlcnZpY2VzL2Vycm9ycy9BdXRoVG9rZW5FcnJvci50cz8yM2ViIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBBdXRoVG9rZW5FcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdFcnJvciB3aXRoIGF1dGhlbnRpY2F0aW9uIHRva2VuLicpXHJcbiAgfTtcclxufTsiXSwibmFtZXMiOlsiQXV0aFRva2VuRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/services/errors/AuthTokenError.ts\n");

/***/ }),

/***/ "./src/utils/withSSRGuest.ts":
/*!***********************************!*\
  !*** ./src/utils/withSSRGuest.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"withSSRGuest\": () => (/* binding */ withSSRGuest)\n/* harmony export */ });\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction withSSRGuest(fn) {\n    return async (ctx)=>{\n        const cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_0__.parseCookies)(ctx);\n        if (cookies[\"nextauth.token\"]) {\n            return {\n                redirect: {\n                    destination: \"/dashboard\",\n                    permanent: false\n                }\n            };\n        }\n        return await fn(ctx);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvd2l0aFNTUkd1ZXN0LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN1QztBQUVoQyxTQUFTQyxZQUFZLENBQUlDLEVBQXlCLEVBQUU7SUFDMUQsT0FBTyxPQUFPQyxHQUE4QixHQUEyQztRQUN0RixNQUFNQyxPQUFPLEdBQUdKLHFEQUFZLENBQUNHLEdBQUcsQ0FBQztRQUVqQyxJQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUM1QixPQUFPO2dCQUNMQyxRQUFRLEVBQUU7b0JBQ1JDLFdBQVcsRUFBRSxZQUFZO29CQUN6QkMsU0FBUyxFQUFFLEtBQUs7aUJBQ2pCO2FBQ0Y7U0FDRjtRQUVELE9BQU8sTUFBTUwsRUFBRSxDQUFDQyxHQUFHLENBQUMsQ0FBQztLQUNyQjtDQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGF1dGgvLi9zcmMvdXRpbHMvd2l0aFNTUkd1ZXN0LnRzP2JhNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2V0U2VydmVyU2lkZVByb3BzLCBHZXRTZXJ2ZXJTaWRlUHJvcHNDb250ZXh0LCBHZXRTZXJ2ZXJTaWRlUHJvcHNSZXN1bHQgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgeyBwYXJzZUNvb2tpZXMgfSBmcm9tIFwibm9va2llc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhTU1JHdWVzdDxQPihmbjogR2V0U2VydmVyU2lkZVByb3BzPFA+KSB7XHJcbiByZXR1cm4gYXN5bmMgKGN0eDogR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCk6IFByb21pc2U8R2V0U2VydmVyU2lkZVByb3BzUmVzdWx0PFA+PiA9PiB7XHJcbiAgY29uc3QgY29va2llcyA9IHBhcnNlQ29va2llcyhjdHgpO1xyXG5cclxuICBpZihjb29raWVzWyduZXh0YXV0aC50b2tlbiddKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZWRpcmVjdDoge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uOiAnL2Rhc2hib2FyZCcsXHJcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGF3YWl0IGZuKGN0eCk7XHJcbiB9XHJcbn0iXSwibmFtZXMiOlsicGFyc2VDb29raWVzIiwid2l0aFNTUkd1ZXN0IiwiZm4iLCJjdHgiLCJjb29raWVzIiwicmVkaXJlY3QiLCJkZXN0aW5hdGlvbiIsInBlcm1hbmVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/withSSRGuest.ts\n");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = require("axios");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("next/router");

/***/ }),

/***/ "nookies":
/*!**************************!*\
  !*** external "nookies" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("nookies");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/index.tsx"));
module.exports = __webpack_exports__;

})();