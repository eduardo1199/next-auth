"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/dashboard";
exports.ids = ["pages/dashboard"];
exports.modules = {

/***/ "./src/components/Can.tsx":
/*!********************************!*\
  !*** ./src/components/Can.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Can\": () => (/* binding */ Can)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hooks_useCan__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hooks/useCan */ \"./src/hooks/useCan.ts\");\n\n\nfunction Can({ children , permissions , roles  }) {\n    const userCanSeeComponent = (0,_hooks_useCan__WEBPACK_IMPORTED_MODULE_1__.useCan)({\n        permissions,\n        roles\n    });\n    if (!userCanSeeComponent) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: children\n    }, void 0, false);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9DYW4udHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUN5QztBQVFsQyxTQUFTQyxHQUFHLENBQUMsRUFBRUMsUUFBUSxHQUFFQyxXQUFXLEdBQUVDLEtBQUssR0FBWSxFQUFFO0lBQzlELE1BQU1DLG1CQUFtQixHQUFHTCxxREFBTSxDQUFDO1FBQ2pDRyxXQUFXO1FBQUVDLEtBQUs7S0FDbkIsQ0FBQztJQUVGLElBQUcsQ0FBQ0MsbUJBQW1CLEVBQUUsT0FBTyxJQUFJLENBQUM7SUFFckMscUJBQ0U7a0JBQ0dILFFBQVE7cUJBQ1IsQ0FDSjtDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGF1dGgvLi9zcmMvY29tcG9uZW50cy9DYW4udHN4Pzk1YTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZUNhbiB9IGZyb20gXCIuLi9ob29rcy91c2VDYW5cIjtcclxuXHJcbmludGVyZmFjZSBDYW5Qcm9wcyB7XHJcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcclxuICBwZXJtaXNzaW9ucz86IHN0cmluZ1tdO1xyXG4gIHJvbGVzPzogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDYW4oeyBjaGlsZHJlbiwgcGVybWlzc2lvbnMsIHJvbGVzIH06IENhblByb3BzKSB7XHJcbiAgY29uc3QgdXNlckNhblNlZUNvbXBvbmVudCA9IHVzZUNhbih7XHJcbiAgICBwZXJtaXNzaW9ucywgcm9sZXNcclxuICB9KTtcclxuXHJcbiAgaWYoIXVzZXJDYW5TZWVDb21wb25lbnQpIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC8+XHJcbiAgKVxyXG59Il0sIm5hbWVzIjpbInVzZUNhbiIsIkNhbiIsImNoaWxkcmVuIiwicGVybWlzc2lvbnMiLCJyb2xlcyIsInVzZXJDYW5TZWVDb21wb25lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/Can.tsx\n");

/***/ }),

/***/ "./src/context/AuthContext.tsx":
/*!*************************************!*\
  !*** ./src/context/AuthContext.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthContext\": () => (/* binding */ AuthContext),\n/* harmony export */   \"AuthProvider\": () => (/* binding */ AuthProvider),\n/* harmony export */   \"SignOut\": () => (/* binding */ SignOut),\n/* harmony export */   \"postMessageSingOut\": () => (/* binding */ postMessageSingOut)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_apiClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/apiClient */ \"./src/services/apiClient.ts\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/api */ \"./src/services/api.ts\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\nlet authChannel;\nfunction SignOut() {\n    (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.token\");\n    (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.refreshtoken\");\n    next_router__WEBPACK_IMPORTED_MODULE_4___default().push(\"/\");\n}\nfunction postMessageSingOut() {\n    authChannel.postMessage(\"signOut\");\n}\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nfunction AuthProvider({ children  }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const { 0: user , 1: setUser  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const isAuthenticated = !!user;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        authChannel = new BroadcastChannel(\"auth\");\n        authChannel.onmessage = (message)=>{\n            switch(message.data){\n                case \"signOut\":\n                    SignOut();\n                    break;\n                default:\n                    break;\n            }\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const { \"nextauth.token\": token  } = (0,nookies__WEBPACK_IMPORTED_MODULE_5__.parseCookies)();\n        if (token) {\n            _services_apiClient__WEBPACK_IMPORTED_MODULE_2__.api.get(\"/me\").then((response)=>{\n                const { email , permissions , roles  } = response.data;\n                setUser({\n                    email,\n                    permissions,\n                    roles\n                });\n            }).catch(()=>{\n                (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.token\");\n                (0,nookies__WEBPACK_IMPORTED_MODULE_5__.destroyCookie)(undefined, \"nextauth.refreshtoken\");\n                SignOut();\n            });\n        }\n    }, []);\n    async function signIn(credentials) {\n        try {\n            const response = await _services_apiClient__WEBPACK_IMPORTED_MODULE_2__.api.post(\"sessions\", {\n                ...credentials\n            });\n            const { token , refreshToken , permissions , roles  } = response.data;\n            (0,nookies__WEBPACK_IMPORTED_MODULE_5__.setCookie)(undefined, \"nextauth.token\", token, {\n                maxAge: 60 * 60 * 25 * 30,\n                path: \"/\"\n            });\n            (0,nookies__WEBPACK_IMPORTED_MODULE_5__.setCookie)(undefined, \"nextauth.refreshtoken\", refreshToken, {\n                maxAge: 60 * 60 * 25 * 30,\n                path: \"/\"\n            });\n            setUser({\n                email: credentials.email,\n                permissions,\n                roles\n            });\n            (0,_services_api__WEBPACK_IMPORTED_MODULE_3__.defaultToken)(token);\n            router.push(\"/dashboard\");\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            signIn,\n            isAuthenticated,\n            user,\n            signOut: SignOut,\n            postMessage: postMessageSingOut\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\context\\\\AuthContext.tsx\",\n        lineNumber: 116,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtnQkFDekJDLElBQUksRUFBRSxHQUFHO2FBQ1YsQ0FBQyxDQUFDO1lBRUhuQixPQUFPLENBQUM7Z0JBQ05VLEtBQUssRUFBRUssV0FBVyxDQUFDTCxLQUFLO2dCQUN4QkMsV0FBVztnQkFDWEMsS0FBSzthQUNOLENBQUMsQ0FBQztZQUVIN0IsMkRBQVksQ0FBQ3VCLEtBQUssQ0FBQyxDQUFDO1lBRXBCUixNQUFNLENBQUNOLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUMzQixDQUFDLE9BQU80QixHQUFHLEVBQUU7WUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQyxDQUFDO1NBQ2xCO0tBQ0Y7SUFFRCxxQkFDRSw4REFBQ3pCLFdBQVcsQ0FBQzRCLFFBQVE7UUFBQ0MsS0FBSyxFQUFFO1lBQUVWLE1BQU07WUFBR2IsZUFBZTtZQUFFRixJQUFJO1lBQUUwQixPQUFPLEVBQUVuQyxPQUFPO1lBQUVJLFdBQVcsRUFBRUQsa0JBQWtCO1NBQUU7a0JBQy9HSSxRQUFROzs7OztZQUNZLENBQ3hCO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy9jb250ZXh0L0F1dGhDb250ZXh0LnRzeD82ZWU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2FwaUNsaWVudFwiO1xyXG5pbXBvcnQgeyBkZWZhdWx0VG9rZW4gfSBmcm9tIFwiLi4vc2VydmljZXMvYXBpXCI7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcclxuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcic7XHJcbmltcG9ydCB7IHNldENvb2tpZSwgcGFyc2VDb29raWVzLCBkZXN0cm95Q29va2llIH0gZnJvbSAnbm9va2llcyc7XHJcblxyXG50eXBlIHNpZ25JbkNyZWF0aW9uID0ge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxufVxyXG5cclxudHlwZSBBdXRoQ29udGV4dERhdGEgPSB7XHJcbiAgc2lnbkluOiAoY3JlZGVudGlhbHM6IHNpZ25JbkNyZWF0aW9uKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNpZ25PdXQ6ICgpID0+IHZvaWQ7XHJcbiAgcG9zdE1lc3NhZ2U6ICgpID0+IHZvaWQ7XHJcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xyXG4gIHVzZXI6IFVzZXI7XHJcbn07XHJcblxyXG50eXBlIFVzZXIgPSB7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBwZXJtaXNzaW9uczogc3RyaW5nW107XHJcbiAgcm9sZXM6IHN0cmluZ1tdO1xyXG59XHJcblxyXG50eXBlIEF1dGhQcm92aWRlclByb3BzID0ge1xyXG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcclxufTtcclxuXHJcbmxldCBhdXRoQ2hhbm5lbDogQnJvYWRjYXN0Q2hhbm5lbFxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFNpZ25PdXQoKSB7XHJcbiAgZGVzdHJveUNvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC50b2tlbicpO1xyXG4gIGRlc3Ryb3lDb29raWUodW5kZWZpbmVkLCAnbmV4dGF1dGgucmVmcmVzaHRva2VuJyk7XHJcblxyXG4gIFJvdXRlci5wdXNoKCcvJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb3N0TWVzc2FnZVNpbmdPdXQoKSB7XHJcbiAgYXV0aENoYW5uZWwucG9zdE1lc3NhZ2UoJ3NpZ25PdXQnKTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSBhcyBBdXRoQ29udGV4dERhdGEpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH06IEF1dGhQcm92aWRlclByb3BzKSB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgXHJcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlcj4oe30gYXMgVXNlcik7XHJcbiAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gISF1c2VyO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYXV0aENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCgnYXV0aCcpO1xyXG5cclxuICAgIGF1dGhDaGFubmVsLm9ubWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgIHN3aXRjaCAobWVzc2FnZS5kYXRhKXtcclxuICAgICAgICBjYXNlICdzaWduT3V0JzogXHJcbiAgICAgICAgICBTaWduT3V0KCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbXSlcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHsgJ25leHRhdXRoLnRva2VuJzogdG9rZW4gfSA9IHBhcnNlQ29va2llcygpO1xyXG5cclxuICAgIGlmKHRva2VuKSB7XHJcbiAgICAgIGFwaS5nZXQoJy9tZScpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGVybWlzc2lvbnMsIHJvbGVzIH0gPSByZXNwb25zZS5kYXRhO1xyXG5cclxuICAgICAgICBzZXRVc2VyKHsgZW1haWwsIHBlcm1pc3Npb25zLCByb2xlcyAgfSk7XHJcbiAgICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICBkZXN0cm95Q29va2llKHVuZGVmaW5lZCwgJ25leHRhdXRoLnRva2VuJyk7XHJcbiAgICAgICAgZGVzdHJveUNvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC5yZWZyZXNodG9rZW4nKTtcclxuXHJcbiAgICAgICAgU2lnbk91dCgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgYXN5bmMgZnVuY3Rpb24gc2lnbkluKGNyZWRlbnRpYWxzOiBzaWduSW5DcmVhdGlvbikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdCgnc2Vzc2lvbnMnLCB7XHJcbiAgICAgICAgLi4uY3JlZGVudGlhbHNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB7IHRva2VuLCByZWZyZXNoVG9rZW4sIHBlcm1pc3Npb25zLCByb2xlcyB9ID0gcmVzcG9uc2UuZGF0YTtcclxuXHJcbiAgICAgIHNldENvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC50b2tlbicsIHRva2VuLCB7XHJcbiAgICAgICAgbWF4QWdlOiA2MCAqIDYwICogMjUgKiAzMCwgLy8gMzAgZGF5c1xyXG4gICAgICAgIHBhdGg6ICcvJ1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldENvb2tpZSh1bmRlZmluZWQsICduZXh0YXV0aC5yZWZyZXNodG9rZW4nLCByZWZyZXNoVG9rZW4sIHtcclxuICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNSAqIDMwLCAvLyAzMCBkYXlzXHJcbiAgICAgICAgcGF0aDogJy8nXHJcbiAgICAgIH0pO1xyXG4gIFxyXG4gICAgICBzZXRVc2VyKHtcclxuICAgICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsXHJcbiAgICAgICAgcGVybWlzc2lvbnMsXHJcbiAgICAgICAgcm9sZXNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBkZWZhdWx0VG9rZW4odG9rZW4pO1xyXG5cclxuICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBzaWduSW4gLCBpc0F1dGhlbnRpY2F0ZWQsIHVzZXIsIHNpZ25PdXQ6IFNpZ25PdXQsIHBvc3RNZXNzYWdlOiBwb3N0TWVzc2FnZVNpbmdPdXQgfX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XHJcbiAgKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJhcGkiLCJkZWZhdWx0VG9rZW4iLCJ1c2VSb3V0ZXIiLCJSb3V0ZXIiLCJzZXRDb29raWUiLCJwYXJzZUNvb2tpZXMiLCJkZXN0cm95Q29va2llIiwiYXV0aENoYW5uZWwiLCJTaWduT3V0IiwidW5kZWZpbmVkIiwicHVzaCIsInBvc3RNZXNzYWdlU2luZ091dCIsInBvc3RNZXNzYWdlIiwiQXV0aENvbnRleHQiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInJvdXRlciIsInVzZXIiLCJzZXRVc2VyIiwiaXNBdXRoZW50aWNhdGVkIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIm9ubWVzc2FnZSIsIm1lc3NhZ2UiLCJkYXRhIiwidG9rZW4iLCJnZXQiLCJ0aGVuIiwicmVzcG9uc2UiLCJlbWFpbCIsInBlcm1pc3Npb25zIiwicm9sZXMiLCJjYXRjaCIsInNpZ25JbiIsImNyZWRlbnRpYWxzIiwicG9zdCIsInJlZnJlc2hUb2tlbiIsIm1heEFnZSIsInBhdGgiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInNpZ25PdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/context/AuthContext.tsx\n");

/***/ }),

/***/ "./src/hooks/useCan.ts":
/*!*****************************!*\
  !*** ./src/hooks/useCan.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useCan\": () => (/* binding */ useCan)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context/AuthContext */ \"./src/context/AuthContext.tsx\");\n/* harmony import */ var _utils_validateUserPermission__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/validateUserPermission */ \"./src/utils/validateUserPermission.ts\");\n\n\n\nfunction useCan({ permissions , roles  }) {\n    const { user , isAuthenticated  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_AuthContext__WEBPACK_IMPORTED_MODULE_1__.AuthContext);\n    if (!isAuthenticated) return false;\n    const dataIsValidate = {\n        user,\n        permissions,\n        roles\n    };\n    const userHasValidPermissions = (0,_utils_validateUserPermission__WEBPACK_IMPORTED_MODULE_2__.validateUserPermissions)(dataIsValidate);\n    return userHasValidPermissions;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlQ2FuLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1DO0FBQ2tCO0FBQ3FCO0FBT25FLFNBQVNHLE1BQU0sQ0FBQyxFQUFFQyxXQUFXLEdBQUVDLEtBQUssR0FBZ0IsRUFBRTtJQUMzRCxNQUFNLEVBQUVDLElBQUksR0FBRUMsZUFBZSxHQUFFLEdBQUdQLGlEQUFVLENBQUNDLDZEQUFXLENBQUM7SUFFekQsSUFBRyxDQUFDTSxlQUFlLEVBQUUsT0FBTyxLQUFLLENBQUM7SUFFbEMsTUFBTUMsY0FBYyxHQUFHO1FBQUVGLElBQUk7UUFBRUYsV0FBVztRQUFFQyxLQUFLO0tBQUU7SUFFbkQsTUFBTUksdUJBQXVCLEdBQUdQLHNGQUF1QixDQUFDTSxjQUFjLENBQUM7SUFFdkUsT0FBT0MsdUJBQXVCLENBQUM7Q0FDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy9ob29rcy91c2VDYW4udHM/YzllZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IEF1dGhDb250ZXh0IH0gZnJvbSBcIi4uL2NvbnRleHQvQXV0aENvbnRleHRcIjtcclxuaW1wb3J0IHsgdmFsaWRhdGVVc2VyUGVybWlzc2lvbnMgfSBmcm9tIFwiLi4vdXRpbHMvdmFsaWRhdGVVc2VyUGVybWlzc2lvblwiO1xyXG5cclxudHlwZSBVc2VDYW5QYXJhbXMgPSB7XHJcbiAgcGVybWlzc2lvbnM/OiBzdHJpbmdbXTtcclxuICByb2xlcz86IHN0cmluZ1tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2FuKHsgcGVybWlzc2lvbnMsIHJvbGVzIH06IFVzZUNhblBhcmFtcykge1xyXG4gIGNvbnN0IHsgdXNlciwgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcclxuXHJcbiAgaWYoIWlzQXV0aGVudGljYXRlZCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICBjb25zdCBkYXRhSXNWYWxpZGF0ZSA9IHsgdXNlciwgcGVybWlzc2lvbnMsIHJvbGVzIH07XHJcblxyXG4gIGNvbnN0IHVzZXJIYXNWYWxpZFBlcm1pc3Npb25zID0gdmFsaWRhdGVVc2VyUGVybWlzc2lvbnMoZGF0YUlzVmFsaWRhdGUpO1xyXG5cclxuICByZXR1cm4gdXNlckhhc1ZhbGlkUGVybWlzc2lvbnM7XHJcbn0iXSwibmFtZXMiOlsidXNlQ29udGV4dCIsIkF1dGhDb250ZXh0IiwidmFsaWRhdGVVc2VyUGVybWlzc2lvbnMiLCJ1c2VDYW4iLCJwZXJtaXNzaW9ucyIsInJvbGVzIiwidXNlciIsImlzQXV0aGVudGljYXRlZCIsImRhdGFJc1ZhbGlkYXRlIiwidXNlckhhc1ZhbGlkUGVybWlzc2lvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useCan.ts\n");

/***/ }),

/***/ "./src/pages/dashboard.tsx":
/*!*********************************!*\
  !*** ./src/pages/dashboard.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Dashboard),\n/* harmony export */   \"getServerSideProps\": () => (/* binding */ getServerSideProps)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Can__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Can */ \"./src/components/Can.tsx\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../context/AuthContext */ \"./src/context/AuthContext.tsx\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/api */ \"./src/services/api.ts\");\n/* harmony import */ var _utils_withSSRAuth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/withSSRAuth */ \"./src/utils/withSSRAuth.ts\");\n\n\n\n\n\n\nfunction Dashboard() {\n    const { user , signOut , postMessage  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_context_AuthContext__WEBPACK_IMPORTED_MODULE_3__.AuthContext);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                children: [\n                    \"hello word \",\n                    user.email\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\dashboard.tsx\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>{\n                    signOut();\n                    postMessage();\n                },\n                children: \"Sair\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\dashboard.tsx\",\n                lineNumber: 15,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Can__WEBPACK_IMPORTED_MODULE_2__.Can, {\n                permissions: [\n                    \"metrics.list\"\n                ],\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: \"Metricas\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\dashboard.tsx\",\n                    lineNumber: 18,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Eduardo Soares\\\\Desktop\\\\Projetos Pessoais\\\\nextauth\\\\src\\\\pages\\\\dashboard.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n};\nconst getServerSideProps = (0,_utils_withSSRAuth__WEBPACK_IMPORTED_MODULE_5__.withSSRAuth)(async (ctx)=>{\n    const apiClient = (0,_services_api__WEBPACK_IMPORTED_MODULE_4__.setupAPIClient)(ctx);\n    const response = await apiClient.get(\"/me\");\n    return {\n        props: {}\n    };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvZGFzaGJvYXJkLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFBa0M7QUFDTTtBQUNhO0FBRUo7QUFDRTtBQUVwQyxTQUFTSyxTQUFTLEdBQUc7SUFDbEMsTUFBTSxFQUFFQyxJQUFJLEdBQUVDLE9BQU8sR0FBRUMsV0FBVyxHQUFFLEdBQUdSLGlEQUFVLENBQUNFLDZEQUFXLENBQUM7SUFFOUQscUJBQ0U7OzBCQUNFLDhEQUFDTyxJQUFFOztvQkFBQyxhQUFXO29CQUFDSCxJQUFJLENBQUNJLEtBQUs7Ozs7OztvQkFBTTswQkFFaEMsOERBQUNDLFFBQU07Z0JBQUNDLE9BQU8sRUFBRSxJQUFNO29CQUFDTCxPQUFPLEVBQUUsQ0FBQztvQkFBQ0MsV0FBVyxFQUFFO2lCQUFDOzBCQUFFLE1BQUk7Ozs7O29CQUFTOzBCQUVoRSw4REFBQ1AsZ0RBQUc7Z0JBQUNZLFdBQVcsRUFBRTtvQkFBQyxjQUFjO2lCQUFDOzBCQUNoQyw0RUFBQ0MsS0FBRzs4QkFBQyxVQUFROzs7Ozt3QkFBTTs7Ozs7b0JBQ2Y7O29CQUNMLENBQ0o7Q0FDRjtBQUVNLE1BQU1DLGtCQUFrQixHQUFHWCwrREFBVyxDQUFDLE9BQU9ZLEdBQUcsR0FBSztJQUMzRCxNQUFNQyxTQUFTLEdBQUdkLDZEQUFjLENBQUNhLEdBQUcsQ0FBQztJQUVyQyxNQUFNRSxRQUFRLEdBQUcsTUFBTUQsU0FBUyxDQUFDRSxHQUFHLENBQUMsS0FBSyxDQUFDO0lBRTNDLE9BQU87UUFDTEMsS0FBSyxFQUFFLEVBRU47S0FDRjtDQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy9wYWdlcy9kYXNoYm9hcmQudHN4P2NlZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IENhbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhblwiO1xyXG5pbXBvcnQgeyBBdXRoQ29udGV4dCB9IGZyb20gXCIuLi9jb250ZXh0L0F1dGhDb250ZXh0XCI7XHJcbmltcG9ydCB7IHVzZUNhbiB9IGZyb20gXCIuLi9ob29rcy91c2VDYW5cIjtcclxuaW1wb3J0IHsgc2V0dXBBUElDbGllbnQgfSBmcm9tIFwiLi4vc2VydmljZXMvYXBpXCI7XHJcbmltcG9ydCB7IHdpdGhTU1JBdXRoIH0gZnJvbSBcIi4uL3V0aWxzL3dpdGhTU1JBdXRoXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEYXNoYm9hcmQoKSB7XHJcbiAgY29uc3QgeyB1c2VyLCBzaWduT3V0LCBwb3N0TWVzc2FnZSB9ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8aDE+aGVsbG8gd29yZCB7dXNlci5lbWFpbH08L2gxPlxyXG4gICAgICBcclxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7c2lnbk91dCgpOyBwb3N0TWVzc2FnZSgpfX0+U2FpcjwvYnV0dG9uPlxyXG5cclxuICAgICAgPENhbiBwZXJtaXNzaW9ucz17WydtZXRyaWNzLmxpc3QnXX0+XHJcbiAgICAgICAgPGRpdj5NZXRyaWNhczwvZGl2PlxyXG4gICAgICA8L0Nhbj5cclxuICAgIDwvPlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IHdpdGhTU1JBdXRoKGFzeW5jIChjdHgpID0+IHtcclxuICBjb25zdCBhcGlDbGllbnQgPSBzZXR1cEFQSUNsaWVudChjdHgpO1xyXG5cclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoJy9tZScpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcHJvcHM6IHtcclxuICAgICAgXHJcbiAgICB9XHJcbiAgfVxyXG59KSJdLCJuYW1lcyI6WyJ1c2VDb250ZXh0IiwiQ2FuIiwiQXV0aENvbnRleHQiLCJzZXR1cEFQSUNsaWVudCIsIndpdGhTU1JBdXRoIiwiRGFzaGJvYXJkIiwidXNlciIsInNpZ25PdXQiLCJwb3N0TWVzc2FnZSIsImgxIiwiZW1haWwiLCJidXR0b24iLCJvbkNsaWNrIiwicGVybWlzc2lvbnMiLCJkaXYiLCJnZXRTZXJ2ZXJTaWRlUHJvcHMiLCJjdHgiLCJhcGlDbGllbnQiLCJyZXNwb25zZSIsImdldCIsInByb3BzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/dashboard.tsx\n");

/***/ }),

/***/ "./src/services/api.ts":
/*!*****************************!*\
  !*** ./src/services/api.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"defaultToken\": () => (/* binding */ defaultToken),\n/* harmony export */   \"setupAPIClient\": () => (/* binding */ setupAPIClient)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/AuthContext */ \"./src/context/AuthContext.tsx\");\n/* harmony import */ var _errors_AuthTokenError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors/AuthTokenError */ \"./src/services/errors/AuthTokenError.ts\");\n\n\n\n\nlet isRefresh = false;\nlet failedRequestQueue = [];\nfunction defaultToken(token) {\n    (axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.headers.common.Authorization) = `Bearer ${token}`;\n}\nfunction setupAPIClient(ctx) {\n    let cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_1__.parseCookies)(ctx);\n    const api = axios__WEBPACK_IMPORTED_MODULE_0___default().create({\n        baseURL: \"http://localhost:3333\",\n        headers: {\n            Authorization: `Bearer ${cookies[\"nextauth.token\"]}`\n        }\n    });\n    api.interceptors.response.use((response)=>{\n        return response;\n    }, (error1)=>{\n        if (error1.response?.status === 401) {\n            if (error1.response.data?.code === \"token.expired\") {\n                cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_1__.parseCookies)(ctx);\n                const { \"nextauth.refreshtoken\": refreshToken1  } = cookies;\n                const originalConfig = error1.config;\n                if (!isRefresh) {\n                    isRefresh = true;\n                    api.post(\"/refresh\", {\n                        refreshToken: refreshToken1\n                    }).then((response)=>{\n                        const { token , refreshToken  } = response.data;\n                        (0,nookies__WEBPACK_IMPORTED_MODULE_1__.setCookie)(ctx, \"nextauth.token\", token, {\n                            maxAge: 60 * 60 * 25 * 30,\n                            path: \"/\"\n                        });\n                        (0,nookies__WEBPACK_IMPORTED_MODULE_1__.setCookie)(ctx, \"nextauth.refreshtoken\", refreshToken, {\n                            maxAge: 60 * 60 * 25 * 30,\n                            path: \"/\"\n                        });\n                        defaultToken(token);\n                        failedRequestQueue.forEach((request)=>request.onSuccess(token)\n                        );\n                    }).catch((error)=>{\n                        failedRequestQueue.forEach((request)=>request.reject(error)\n                        );\n                        failedRequestQueue = [];\n                        if (false) {}\n                    }).finally(()=>{\n                        isRefresh = false;\n                    });\n                }\n                return new Promise((resolve, reject)=>{\n                    failedRequestQueue.push({\n                        onSuccess: (token)=>{\n                            if (originalConfig.headers) {\n                                originalConfig.headers[\"Authorization\"] = `Bearer ${token}`;\n                            }\n                            resolve(api(originalConfig));\n                        },\n                        reject: (err)=>{\n                            reject(err);\n                        }\n                    });\n                });\n            } else {\n                if (false) {} else {\n                    return Promise.reject(new _errors_AuthTokenError__WEBPACK_IMPORTED_MODULE_3__.AuthTokenError());\n                }\n            }\n        }\n        return Promise.reject(error1);\n    });\n    return api;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFTCxNQUFNLEdBQUs7b0JBQ3RDL0Isa0JBQWtCLENBQUNxQyxJQUFJLENBQUM7d0JBQ3RCUixTQUFTLEVBQUUsQ0FBQzNCLEtBQWEsR0FBSzs0QkFDNUIsSUFBR21CLGNBQWMsQ0FBQ2pCLE9BQU8sRUFBRTtnQ0FDekJpQixjQUFjLENBQUNqQixPQUFPLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUVGLEtBQUssQ0FBQyxDQUFDLENBQUM7NkJBQzdEOzRCQUVEa0MsT0FBTyxDQUFDM0IsR0FBRyxDQUFDWSxjQUFjLENBQUMsQ0FBQyxDQUFDO3lCQUM5Qjt3QkFDRFUsTUFBTSxFQUFFLENBQUNPLEdBQWUsR0FBSzs0QkFDM0JQLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLENBQUM7eUJBQ2I7cUJBQ0YsQ0FBQztpQkFDSCxDQUFDLENBQUM7YUFDSixNQUFNO2dCQUNMLElBQUdOLEtBQWUsRUFBRSxFQUVuQixNQUFNO29CQUNMLE9BQU9HLE9BQU8sQ0FBQ0osTUFBTSxDQUFDLElBQUlqQyxrRUFBYyxFQUFFLENBQUM7aUJBQzVDO2FBQ0Y7U0FDRjtRQUVELE9BQU9xQyxPQUFPLENBQUNKLE1BQU0sQ0FBQ2YsTUFBSyxDQUFDLENBQUM7S0FDOUIsQ0FBQyxDQUFDO0lBRUgsT0FBT1AsR0FBRyxDQUFDO0NBQ1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy9zZXJ2aWNlcy9hcGkudHM/OTU2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MsIHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBwYXJzZUNvb2tpZXMsIHNldENvb2tpZSB9IGZyb20gJ25vb2tpZXMnO1xyXG5pbXBvcnQgeyBTaWduT3V0IH0gZnJvbSAnLi4vY29udGV4dC9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7IEF1dGhUb2tlbkVycm9yIH0gZnJvbSAnLi9lcnJvcnMvQXV0aFRva2VuRXJyb3InO1xyXG5cclxubGV0IGlzUmVmcmVzaCA9IGZhbHNlO1xyXG5sZXQgZmFpbGVkUmVxdWVzdFF1ZXVlID0gW10gYXMgYW55W107XHJcblxyXG5pbnRlcmZhY2UgQXhpb3NFcnJvclJlc3BvbnNlIHtcclxuICBjb2RlOiBzdHJpbmc7XHJcbiAgZXJyb3I6IGJvb2xlYW47XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFRva2VuICh0b2tlbjogYW55KSB7XHJcbiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBBUElDbGllbnQoY3R4PzogR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCkge1xyXG4gIGxldCBjb29raWVzID0gcGFyc2VDb29raWVzKGN0eCk7XHJcblxyXG4gIGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XHJcbiAgICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMzMzJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2Nvb2tpZXNbJ25leHRhdXRoLnRva2VuJ119YFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UocmVzcG9uc2UgPT4ge1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gIH0sIChlcnJvcjogQXhpb3NFcnJvcjxBeGlvc0Vycm9yUmVzcG9uc2U+KSA9PiB7XHJcbiAgICBpZihlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgaWYoZXJyb3IucmVzcG9uc2UuZGF0YT8uY29kZSA9PT0gJ3Rva2VuLmV4cGlyZWQnKSB7XHJcbiAgICAgICAgY29va2llcyA9IHBhcnNlQ29va2llcyhjdHgpO1xyXG4gIFxyXG4gICAgICAgIGNvbnN0IHsgJ25leHRhdXRoLnJlZnJlc2h0b2tlbic6IHJlZnJlc2hUb2tlbiB9ID0gIGNvb2tpZXM7XHJcbiAgICAgICAgY29uc3QgIG9yaWdpbmFsQ29uZmlnID0gZXJyb3IuY29uZmlnO1xyXG4gIFxyXG4gICAgICAgIGlmKCFpc1JlZnJlc2gpIHtcclxuICAgICAgICAgIGlzUmVmcmVzaCA9IHRydWU7XHJcbiAgXHJcbiAgICAgICAgICBhcGkucG9zdCgnL3JlZnJlc2gnLCB7IHJlZnJlc2hUb2tlbiB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IHRva2VuLCByZWZyZXNoVG9rZW4gfSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICBcclxuICAgICAgICAgICAgc2V0Q29va2llKGN0eCwgJ25leHRhdXRoLnRva2VuJywgdG9rZW4sIHtcclxuICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNSAqIDMwLCAvLyAzMCBkYXlzXHJcbiAgICAgICAgICAgICAgcGF0aDogJy8nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgICAgICAgc2V0Q29va2llKGN0eCwgJ25leHRhdXRoLnJlZnJlc2h0b2tlbicsIHJlZnJlc2hUb2tlbiAsIHtcclxuICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNSAqIDMwLCAvLyAzMCBkYXlzXHJcbiAgICAgICAgICAgICAgcGF0aDogJy8nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGRlZmF1bHRUb2tlbih0b2tlbik7XHJcbiAgXHJcbiAgICAgICAgICAgIGZhaWxlZFJlcXVlc3RRdWV1ZS5mb3JFYWNoKChyZXF1ZXN0KSA9PiByZXF1ZXN0Lm9uU3VjY2Vzcyh0b2tlbikpO1xyXG4gICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGZhaWxlZFJlcXVlc3RRdWV1ZS5mb3JFYWNoKChyZXF1ZXN0KSA9PiByZXF1ZXN0LnJlamVjdChlcnJvcikpO1xyXG4gICAgICAgICAgICBmYWlsZWRSZXF1ZXN0UXVldWUgPSBbXTtcclxuICBcclxuICAgICAgICAgICAgaWYocHJvY2Vzcy5icm93c2VyKSB7XHJcbiAgICAgICAgICAgICAgU2lnbk91dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgaXNSZWZyZXNoID0gZmFsc2U7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIGZhaWxlZFJlcXVlc3RRdWV1ZS5wdXNoKHtcclxuICAgICAgICAgICAgb25TdWNjZXNzOiAodG9rZW46IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgIGlmKG9yaWdpbmFsQ29uZmlnLmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xyXG4gICAgICAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgICAgICByZXNvbHZlKGFwaShvcmlnaW5hbENvbmZpZykpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWplY3Q6IChlcnI6IEF4aW9zRXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYocHJvY2Vzcy5icm93c2VyKSB7XHJcbiAgICAgICAgICBTaWduT3V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQXV0aFRva2VuRXJyb3IoKSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgfSk7XHJcbiAgXHJcbiAgcmV0dXJuIGFwaTtcclxufSJdLCJuYW1lcyI6WyJheGlvcyIsInBhcnNlQ29va2llcyIsInNldENvb2tpZSIsIlNpZ25PdXQiLCJBdXRoVG9rZW5FcnJvciIsImlzUmVmcmVzaCIsImZhaWxlZFJlcXVlc3RRdWV1ZSIsImRlZmF1bHRUb2tlbiIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwic2V0dXBBUElDbGllbnQiLCJjdHgiLCJjb29raWVzIiwiYXBpIiwiY3JlYXRlIiwiYmFzZVVSTCIsIkF1dGhvcml6YXRpb24iLCJpbnRlcmNlcHRvcnMiLCJyZXNwb25zZSIsInVzZSIsImVycm9yIiwic3RhdHVzIiwiZGF0YSIsImNvZGUiLCJyZWZyZXNoVG9rZW4iLCJvcmlnaW5hbENvbmZpZyIsImNvbmZpZyIsInBvc3QiLCJ0aGVuIiwibWF4QWdlIiwicGF0aCIsImZvckVhY2giLCJyZXF1ZXN0Iiwib25TdWNjZXNzIiwiY2F0Y2giLCJyZWplY3QiLCJwcm9jZXNzIiwiYnJvd3NlciIsImZpbmFsbHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInB1c2giLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/api.ts\n");

/***/ }),

/***/ "./src/services/apiClient.ts":
/*!***********************************!*\
  !*** ./src/services/apiClient.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"api\": () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./src/services/api.ts\");\n\nconst api = (0,_api__WEBPACK_IMPORTED_MODULE_0__.setupAPIClient)();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2VydmljZXMvYXBpQ2xpZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVDO0FBRWhDLE1BQU1DLEdBQUcsR0FBR0Qsb0RBQWMsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGF1dGgvLi9zcmMvc2VydmljZXMvYXBpQ2xpZW50LnRzPzdkMDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0dXBBUElDbGllbnQgfSBmcm9tICcuL2FwaSc7XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gc2V0dXBBUElDbGllbnQoKTsiXSwibmFtZXMiOlsic2V0dXBBUElDbGllbnQiLCJhcGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/apiClient.ts\n");

/***/ }),

/***/ "./src/services/errors/AuthTokenError.ts":
/*!***********************************************!*\
  !*** ./src/services/errors/AuthTokenError.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AuthTokenError\": () => (/* binding */ AuthTokenError)\n/* harmony export */ });\nclass AuthTokenError extends Error {\n    constructor(){\n        super(\"Error with authentication token.\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2VydmljZXMvZXJyb3JzL0F1dGhUb2tlbkVycm9yLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxjQUFjLFNBQVNDLEtBQUs7SUFDdkNDLGFBQWM7UUFDWixLQUFLLENBQUMsa0NBQWtDLENBQUM7S0FDMUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRhdXRoLy4vc3JjL3NlcnZpY2VzL2Vycm9ycy9BdXRoVG9rZW5FcnJvci50cz8yM2ViIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBBdXRoVG9rZW5FcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdFcnJvciB3aXRoIGF1dGhlbnRpY2F0aW9uIHRva2VuLicpXHJcbiAgfTtcclxufTsiXSwibmFtZXMiOlsiQXV0aFRva2VuRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/services/errors/AuthTokenError.ts\n");

/***/ }),

/***/ "./src/utils/validateUserPermission.ts":
/*!*********************************************!*\
  !*** ./src/utils/validateUserPermission.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"validateUserPermissions\": () => (/* binding */ validateUserPermissions)\n/* harmony export */ });\nfunction validateUserPermissions({ user , permissions , roles  }) {\n    if ((permissions ?? []).length > 0) {\n        const hasAllPermissions = permissions?.every((permission)=>{\n            return user.permissions?.includes(permission);\n        });\n        if (!hasAllPermissions) return false;\n    }\n    if ((roles ?? []).length > 0) {\n        const hasAllRoles = roles?.some((role)=>{\n            return user.roles.includes(role);\n        });\n        if (!hasAllRoles) return false;\n    }\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvdmFsaWRhdGVVc2VyUGVybWlzc2lvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBV08sU0FBU0EsdUJBQXVCLENBQUMsRUFBQ0MsSUFBSSxHQUFFQyxXQUFXLEdBQUVDLEtBQUssR0FBZ0MsRUFBRTtJQUNqRyxJQUFHLENBQUNELFdBQVcsSUFBSSxFQUFFLENBQUMsQ0FBQ0UsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUNqQyxNQUFNQyxpQkFBaUIsR0FBR0gsV0FBVyxFQUFFSSxLQUFLLENBQUNDLENBQUFBLFVBQVUsR0FBSTtZQUN6RCxPQUFPTixJQUFJLENBQUNDLFdBQVcsRUFBRU0sUUFBUSxDQUFDRCxVQUFVLENBQUMsQ0FBQztTQUMvQyxDQUFDO1FBRUYsSUFBRyxDQUFDRixpQkFBaUIsRUFBRSxPQUFPLEtBQUssQ0FBQztLQUNyQztJQUVELElBQUcsQ0FBQ0YsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzNCLE1BQU1LLFdBQVcsR0FBR04sS0FBSyxFQUFFTyxJQUFJLENBQUNDLENBQUFBLElBQUksR0FBSTtZQUN0QyxPQUFPVixJQUFJLENBQUNFLEtBQUssQ0FBQ0ssUUFBUSxDQUFDRyxJQUFJLENBQUMsQ0FBQztTQUNsQyxDQUFDO1FBRUYsSUFBRyxDQUFDRixXQUFXLEVBQUUsT0FBTyxLQUFLLENBQUM7S0FDL0I7SUFFRCxPQUFPLElBQUksQ0FBQztDQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGF1dGgvLi9zcmMvdXRpbHMvdmFsaWRhdGVVc2VyUGVybWlzc2lvbi50cz82MmQxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIFVzZXIgPSB7XHJcbiAgcGVybWlzc2lvbnM6IHN0cmluZ1tdO1xyXG4gIHJvbGVzOiBzdHJpbmdbXTtcclxufVxyXG5cclxudHlwZSAgVmFsaWRhdGVVc2VyUGVybWlzc2lvbnNQYXJhbXMgPSB7XHJcbiAgdXNlcjogVXNlcjtcclxuICBwZXJtaXNzaW9ucz86IHN0cmluZ1tdO1xyXG4gIHJvbGVzPzogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJQZXJtaXNzaW9ucyh7dXNlciwgcGVybWlzc2lvbnMsIHJvbGVzfTogVmFsaWRhdGVVc2VyUGVybWlzc2lvbnNQYXJhbXMpIHtcclxuICBpZigocGVybWlzc2lvbnMgPz8gW10pLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IGhhc0FsbFBlcm1pc3Npb25zID0gcGVybWlzc2lvbnM/LmV2ZXJ5KHBlcm1pc3Npb24gPT4ge1xyXG4gICAgICByZXR1cm4gdXNlci5wZXJtaXNzaW9ucz8uaW5jbHVkZXMocGVybWlzc2lvbik7XHJcbiAgICB9KVxyXG5cclxuICAgIGlmKCFoYXNBbGxQZXJtaXNzaW9ucykgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaWYoKHJvbGVzID8/IFtdKS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBoYXNBbGxSb2xlcyA9IHJvbGVzPy5zb21lKHJvbGUgPT4ge1xyXG4gICAgICByZXR1cm4gdXNlci5yb2xlcy5pbmNsdWRlcyhyb2xlKTtcclxuICAgIH0pXHJcblxyXG4gICAgaWYoIWhhc0FsbFJvbGVzKSByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufSJdLCJuYW1lcyI6WyJ2YWxpZGF0ZVVzZXJQZXJtaXNzaW9ucyIsInVzZXIiLCJwZXJtaXNzaW9ucyIsInJvbGVzIiwibGVuZ3RoIiwiaGFzQWxsUGVybWlzc2lvbnMiLCJldmVyeSIsInBlcm1pc3Npb24iLCJpbmNsdWRlcyIsImhhc0FsbFJvbGVzIiwic29tZSIsInJvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/validateUserPermission.ts\n");

/***/ }),

/***/ "./src/utils/withSSRAuth.ts":
/*!**********************************!*\
  !*** ./src/utils/withSSRAuth.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"withSSRAuth\": () => (/* binding */ withSSRAuth)\n/* harmony export */ });\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nookies */ \"nookies\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _services_errors_AuthTokenError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/errors/AuthTokenError */ \"./src/services/errors/AuthTokenError.ts\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jwt-decode */ \"jwt-decode\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jwt_decode__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _validateUserPermission__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validateUserPermission */ \"./src/utils/validateUserPermission.ts\");\n\n\n\n\nfunction withSSRAuth(fn, options) {\n    return async (ctx)=>{\n        const cookies = (0,nookies__WEBPACK_IMPORTED_MODULE_0__.parseCookies)(ctx);\n        const token = cookies[\"nextauth.token\"];\n        if (!cookies[\"nextauth.token\"]) {\n            return {\n                redirect: {\n                    destination: \"/\",\n                    permanent: false\n                }\n            };\n        }\n        if (options) {\n            const user = jwt_decode__WEBPACK_IMPORTED_MODULE_2___default()(token);\n            const userHasValidPermissions = (0,_validateUserPermission__WEBPACK_IMPORTED_MODULE_3__.validateUserPermissions)({\n                user,\n                permissions: options?.permissions,\n                roles: options?.roles\n            });\n            console.log(userHasValidPermissions);\n            if (!userHasValidPermissions) {\n                return {\n                    redirect: {\n                        destination: \"/dashboard\",\n                        permanent: false\n                    }\n                };\n            }\n        }\n        try {\n            return await fn(ctx);\n        } catch (err) {\n            if (err instanceof _services_errors_AuthTokenError__WEBPACK_IMPORTED_MODULE_1__.AuthTokenError) {\n                (0,nookies__WEBPACK_IMPORTED_MODULE_0__.destroyCookie)(ctx, \"nextauth.refreshtoken\");\n                (0,nookies__WEBPACK_IMPORTED_MODULE_0__.destroyCookie)(ctx, \"nextauth.token\");\n                return {\n                    redirect: {\n                        destination: \"/\",\n                        permanent: false\n                    }\n                };\n            } else {\n                return {\n                    notFound: true\n                };\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvd2l0aFNTUkF1dGgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNzRDtBQUNhO0FBQ25DO0FBQ3lDO0FBT2xFLFNBQVNLLFdBQVcsQ0FBSUMsRUFBeUIsRUFBRUMsT0FBNEIsRUFBRTtJQUN2RixPQUFPLE9BQU9DLEdBQThCLEdBQTJDO1FBQ3RGLE1BQU1DLE9BQU8sR0FBR1IscURBQVksQ0FBQ08sR0FBRyxDQUFDO1FBQ2pDLE1BQU1FLEtBQUssR0FBR0QsT0FBTyxDQUFDLGdCQUFnQixDQUFDO1FBRXZDLElBQUcsQ0FBQ0EsT0FBTyxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFDN0IsT0FBTztnQkFDTEUsUUFBUSxFQUFFO29CQUNSQyxXQUFXLEVBQUUsR0FBRztvQkFDaEJDLFNBQVMsRUFBRSxLQUFLO2lCQUNqQjthQUNGO1NBQ0Y7UUFFRCxJQUFHTixPQUFPLEVBQUU7WUFDVixNQUFNTyxJQUFJLEdBQUdYLGlEQUFNLENBQU9PLEtBQUssQ0FBQztZQUVoQyxNQUFNSyx1QkFBdUIsR0FBR1gsZ0ZBQXVCLENBQUM7Z0JBQ3REVSxJQUFJO2dCQUNKRSxXQUFXLEVBQUVULE9BQU8sRUFBRVMsV0FBVztnQkFDakNDLEtBQUssRUFBRVYsT0FBTyxFQUFFVSxLQUFLO2FBQ3RCLENBQUM7WUFFRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLHVCQUF1QixDQUFDLENBQUM7WUFFckMsSUFBRyxDQUFDQSx1QkFBdUIsRUFBRTtnQkFDM0IsT0FBTztvQkFDTEosUUFBUSxFQUFFO3dCQUNSQyxXQUFXLEVBQUUsWUFBWTt3QkFDekJDLFNBQVMsRUFBRSxLQUFLO3FCQUNqQjtpQkFDRjthQUNGO1NBQ0Y7UUFFRCxJQUFJO1lBQ0YsT0FBTyxNQUFNUCxFQUFFLENBQUNFLEdBQUcsQ0FBQyxDQUFDO1NBQ3RCLENBQUMsT0FBT1ksR0FBRyxFQUFFO1lBQ1osSUFBR0EsR0FBRyxZQUFZbEIsMkVBQWMsRUFBRTtnQkFDaENGLHNEQUFhLENBQUNRLEdBQUcsRUFBQyx1QkFBdUIsQ0FBQyxDQUFDO2dCQUMzQ1Isc0RBQWEsQ0FBQ1EsR0FBRyxFQUFDLGdCQUFnQixDQUFDLENBQUM7Z0JBRXBDLE9BQU87b0JBQ0xHLFFBQVEsRUFBRTt3QkFDUkMsV0FBVyxFQUFFLEdBQUc7d0JBQ2hCQyxTQUFTLEVBQUUsS0FBSztxQkFDakI7aUJBQ0Y7YUFDRixNQUFNO2dCQUNMLE9BQU87b0JBQ0xRLFFBQVEsRUFBRSxJQUFJO2lCQUNmO2FBQ0Y7U0FDRjtLQUNEO0NBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0YXV0aC8uL3NyYy91dGlscy93aXRoU1NSQXV0aC50cz8yZDMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdldFNlcnZlclNpZGVQcm9wcywgR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCwgR2V0U2VydmVyU2lkZVByb3BzUmVzdWx0IH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHsgZGVzdHJveUNvb2tpZSwgcGFyc2VDb29raWVzIH0gZnJvbSBcIm5vb2tpZXNcIjtcclxuaW1wb3J0IHsgQXV0aFRva2VuRXJyb3IgfSBmcm9tIFwiLi4vc2VydmljZXMvZXJyb3JzL0F1dGhUb2tlbkVycm9yXCI7XHJcbmltcG9ydCBkZWNvZGUgZnJvbSAnand0LWRlY29kZSc7XHJcbmltcG9ydCB7IFVzZXIsIHZhbGlkYXRlVXNlclBlcm1pc3Npb25zIH0gZnJvbSBcIi4vdmFsaWRhdGVVc2VyUGVybWlzc2lvblwiO1xyXG5cclxuaW50ZXJmYWNlIFdpdGhTU1JBdXRoT3B0aW9ucyB7XHJcbiAgcGVybWlzc2lvbnM/OiBzdHJpbmdbXTtcclxuICByb2xlcz86IHN0cmluZ1tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd2l0aFNTUkF1dGg8UD4oZm46IEdldFNlcnZlclNpZGVQcm9wczxQPiwgb3B0aW9ucz86IFdpdGhTU1JBdXRoT3B0aW9ucykge1xyXG4gcmV0dXJuIGFzeW5jIChjdHg6IEdldFNlcnZlclNpZGVQcm9wc0NvbnRleHQpOiBQcm9taXNlPEdldFNlcnZlclNpZGVQcm9wc1Jlc3VsdDxQPj4gPT4ge1xyXG4gIGNvbnN0IGNvb2tpZXMgPSBwYXJzZUNvb2tpZXMoY3R4KTtcclxuICBjb25zdCB0b2tlbiA9IGNvb2tpZXNbJ25leHRhdXRoLnRva2VuJ107XHJcblxyXG4gIGlmKCFjb29raWVzWyduZXh0YXV0aC50b2tlbiddKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZWRpcmVjdDoge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uOiAnLycsXHJcbiAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYob3B0aW9ucykge1xyXG4gICAgY29uc3QgdXNlciA9IGRlY29kZTxVc2VyPih0b2tlbik7XHJcblxyXG4gICAgY29uc3QgdXNlckhhc1ZhbGlkUGVybWlzc2lvbnMgPSB2YWxpZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XHJcbiAgICAgIHVzZXIsXHJcbiAgICAgIHBlcm1pc3Npb25zOiBvcHRpb25zPy5wZXJtaXNzaW9ucyxcclxuICAgICAgcm9sZXM6IG9wdGlvbnM/LnJvbGVzXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyh1c2VySGFzVmFsaWRQZXJtaXNzaW9ucyk7XHJcblxyXG4gICAgaWYoIXVzZXJIYXNWYWxpZFBlcm1pc3Npb25zKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVkaXJlY3Q6IHtcclxuICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2Rhc2hib2FyZCcsXHJcbiAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCBmbihjdHgpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgaWYoZXJyIGluc3RhbmNlb2YgQXV0aFRva2VuRXJyb3IpIHtcclxuICAgICAgZGVzdHJveUNvb2tpZShjdHgsJ25leHRhdXRoLnJlZnJlc2h0b2tlbicpO1xyXG4gICAgICBkZXN0cm95Q29va2llKGN0eCwnbmV4dGF1dGgudG9rZW4nKTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVkaXJlY3Q6IHtcclxuICAgICAgICAgIGRlc3RpbmF0aW9uOiAnLycsXHJcbiAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBub3RGb3VuZDogdHJ1ZSxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuIH1cclxufSJdLCJuYW1lcyI6WyJkZXN0cm95Q29va2llIiwicGFyc2VDb29raWVzIiwiQXV0aFRva2VuRXJyb3IiLCJkZWNvZGUiLCJ2YWxpZGF0ZVVzZXJQZXJtaXNzaW9ucyIsIndpdGhTU1JBdXRoIiwiZm4iLCJvcHRpb25zIiwiY3R4IiwiY29va2llcyIsInRva2VuIiwicmVkaXJlY3QiLCJkZXN0aW5hdGlvbiIsInBlcm1hbmVudCIsInVzZXIiLCJ1c2VySGFzVmFsaWRQZXJtaXNzaW9ucyIsInBlcm1pc3Npb25zIiwicm9sZXMiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwibm90Rm91bmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/withSSRAuth.ts\n");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = require("axios");

/***/ }),

/***/ "jwt-decode":
/*!*****************************!*\
  !*** external "jwt-decode" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("jwt-decode");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("next/router");

/***/ }),

/***/ "nookies":
/*!**************************!*\
  !*** external "nookies" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("nookies");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/dashboard.tsx"));
module.exports = __webpack_exports__;

})();